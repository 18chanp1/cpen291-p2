{"ast":null,"code":"import std_but from \"/src/components/std_but.vue\";\nimport axios from 'axios';\nexport default {\n  name: 'musicInput',\n\n  data() {\n    return {\n      count: 0,\n      script: '',\n      typedscript: '',\n      error: ''\n    };\n  },\n\n  components: {\n    std_but\n  },\n  methods: {\n    clicked(nextchar) {\n      this.count++;\n      this.script = this.script.concat(nextchar);\n    },\n\n    reset() {\n      this.script = '';\n    },\n\n    async submitForm() {\n      var pattern = /^(([a-g][1-9]+)*)$/;\n      console.log(pattern.test(this.typedscript));\n\n      if (pattern.test(this.typedscript)) {\n        console.log('submitted, typed');\n        const request = {\n          type: 'MusicInTyped',\n          arguments: this.typedscript\n        };\n        await axios.post('/api/typedrequest/', request).then(response => {\n          console.log(response);\n          this.showBar(\"Submission accepted\", 'G');\n        }).catch(error => {\n          console.log(error);\n          this.showBar(\"Server error. Please try again later.\", '');\n        });\n      } else {\n        console.log('inputerr');\n        this.showBar('Input error. Please study the input format in detail.', '');\n      }\n    },\n\n    async submitBut() {\n      console.log('submitted, button');\n      const request = {\n        type: 'MusicInButtoned',\n        arguments: this.script\n      };\n      await axios.post('/api/typedrequest/', request).then(response => {\n        console.log(response);\n        this.showBar(\"Submission accepted\", 'G');\n      }).catch(error => {\n        console.log(error);\n        this.showBar(\"Server error. Please try again later.\", '');\n      });\n    },\n\n    showBar(input, color) {\n      this.error = input;\n      var x = document.getElementById(\"snackbar\" + color);\n      x.className = \"show\";\n      setTimeout(function () {\n        x.className = x.className.replace(\"show\", \"\");\n      }, 3000);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0EA,OAAOA,OAAP,MAAoB,6BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEE,eAAc;AAEZC,MAAI,EAAE,YAFM;;AAGZC,MAAI,GAAE;AACF,WAAM;AACFC,WAAK,EAAC,CADJ;AAEFC,YAAM,EAAE,EAFN;AAGFC,iBAAW,EAAC,EAHV;AAIFC,WAAK,EAAE;AAJL,KAAN;AAMH,GAVW;;AAWZC,YAAU,EAAC;AACTR;AADS,GAXC;AAcZS,SAAO,EAAC;AACJC,WAAO,CAACC,QAAD,EAAU;AACf,WAAKP,KAAL;AACA,WAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYO,MAAZ,CAAmBD,QAAnB,CAAd;AACD,KAJG;;AAKJE,SAAK,GAAE;AACL,WAAKR,MAAL,GAAY,EAAZ;AACD,KAPG;;AAQJ,UAAMS,UAAN,GAAkB;AAChB,UAAIC,OAAM,GAAI,oBAAd;AACAC,aAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,IAAR,CAAa,KAAKZ,WAAlB,CAAZ;;AACA,UAAGS,OAAO,CAACG,IAAR,CAAa,KAAKZ,WAAlB,CAAH,EAAkC;AAChCU,eAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,cAAME,OAAM,GAAI;AACdC,cAAI,EAAE,cADQ;AAEdC,mBAAS,EAAE,KAAKf;AAFF,SAAhB;AAKA,cAAML,KAAI,CACPqB,IADG,CACE,oBADF,EACwBH,OADxB,EAEHI,IAFG,CAEEC,QAAO,IAAI;AACfR,iBAAO,CAACC,GAAR,CAAYO,QAAZ;AACA,eAAKC,OAAL,CAAa,qBAAb,EAAoC,GAApC;AACD,SALG,EAKDC,KALC,CAKKnB,KAAI,IAAK;AAChBS,iBAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,eAAKkB,OAAL,CAAa,uCAAb,EAAqD,EAArD;AACD,SARG,CAAN;AASF,OAhBA,MAgBO;AACLT,eAAO,CAACC,GAAR,CAAY,UAAZ;AACA,aAAKQ,OAAL,CAAa,uDAAb,EAAsE,EAAtE;AACF;AACD,KA/BG;;AA+BF,UAAME,SAAN,GAAiB;AACjBX,aAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,YAAME,OAAM,GAAI;AACdC,YAAI,EAAE,iBADQ;AAEdC,iBAAS,EAAE,KAAKhB;AAFF,OAAhB;AAKA,YAAMJ,KAAI,CACPqB,IADG,CACE,oBADF,EACwBH,OADxB,EAEHI,IAFG,CAEEC,QAAO,IAAI;AACfR,eAAO,CAACC,GAAR,CAAYO,QAAZ;AACA,aAAKC,OAAL,CAAa,qBAAb,EAAoC,GAApC;AACD,OALG,EAKDC,KALC,CAKKnB,KAAI,IAAK;AAChBS,eAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,aAAKkB,OAAL,CAAa,uCAAb,EAAqD,EAArD;AACD,OARG,CAAN;AASC,KA/CC;;AAgDFA,WAAO,CAACG,KAAD,EAAQC,KAAR,EAAe;AACpB,WAAKtB,KAAL,GAAaqB,KAAb;AACA,UAAIE,IAAIC,QAAQ,CAACC,cAAT,CAAwB,aAAaH,KAArC,CAAR;AACAC,OAAC,CAACG,SAAF,GAAc,MAAd;AACAC,gBAAU,CAAC,YAAU;AAAEJ,SAAC,CAACG,SAAF,GAAcH,CAAC,CAACG,SAAF,CAAYE,OAAZ,CAAoB,MAApB,EAA4B,EAA5B,CAAd;AAAgD,OAA7D,EAA+D,IAA/D,CAAV;AACD;;AArDC;AAdI,CAAd","names":["std_but","axios","name","data","count","script","typedscript","error","components","methods","clicked","nextchar","concat","reset","submitForm","pattern","console","log","test","request","type","arguments","post","then","response","showBar","catch","submitBut","input","color","x","document","getElementById","className","setTimeout","replace"],"sourceRoot":"","sources":["/Users/18chanp1/Library/CloudStorage/OneDrive-UBC/Active Use/UBC/20 Year 2/16 CPEN 291/04 Projects/P2_A_G20/music_control_webapp/vue-frontend/src/views/musicInput.vue"],"sourcesContent":["<template>\n<div class = \"General\">\n  <h1>Upload Music</h1>\n  <hr>\n\n  <h2>Option 1: Text Input</h2>\n  <p>\n    To input your song, please prepare the following information:\n    \n  </p>\n  <ol>\n    <li>The pitch of each note (e.g. C)</li>\n    <li>The length of each note (e.g. 1 relative unit)</li>\n  </ol>\n\n  <p>\n    Type in chronological order, the pitch of each note, followed by the relative length \n    of each note. Do not include spaces. \n  </p>\n\n  <p>\n    For example, if you wish to play the note C for 1 RU, followed by the note\n    B for 2 RU, you would input the following:\n  </p>\n\n  <p>\n    c1b2 \n  </p>\n\n  <form @submit.prevent=\"submitForm\">\n    <textarea v-model = \"typedscript\">Input your music here.</textarea>\n    <br/>\n    <input type=\"submit\" value=\"Submit\" class = \"flexbut\" id = \"ButtonForSubmit\">\n  </form>   \n  \n  <h2>Option 2: Button Input</h2>\n  \n  <p>\n    Push the buttons to input the corresponding note. The duration\n    defaults to 1 RU.\n  </p>\n\n  <form @submit.prevent = \"submitBut\">\n    <div class=\"noteInput\">\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"C\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"D\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"E\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"F\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"G\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"A\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"B\"/>\n      <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"C\"/>\n    </div>\n\n    <p>\n      Your Input: \n    </p>\n\n    <p class=\"inputdisp\">{{this.script}} </p>\n\n    <div class=\"noteInput\">\n    <std_but type = \"button\" @pressed-button = \"reset()\" text = \"Reset\" class = \"flexbut\"/>\n    <std_but @pressed-button = \"submit()\" text = \"Submit\" class = \"flexbut\"/>\n    </div>\n\n    <div id=\"snackbar\">{{error}}</div>\n    <div id=\"snackbarG\">{{error}}</div>\n    \n  </form>\n\n</div>\n</template>\n\n<script>\nimport std_but from \"/src/components/std_but.vue\"\nimport axios from 'axios'\n\n  export default{\n    \n    name: 'musicInput',\n    data(){\n        return{\n            count:0,\n            script: '',\n            typedscript:'',\n            error: '',\n        }\n    },\n    components:{\n      std_but,\n    },\n    methods:{\n        clicked(nextchar){\n          this.count++\n          this.script = this.script.concat(nextchar)\n        },\n        reset(){\n          this.script=''\n        },\n        async submitForm(){\n          var pattern = /^(([a-g][1-9]+)*)$/\n          console.log(pattern.test(this.typedscript))\n          if(pattern.test(this.typedscript)){\n            console.log('submitted, typed')\n            const request = {\n              type: 'MusicInTyped',\n              arguments: this.typedscript,\n            }\n            \n            await axios \n              .post('/api/typedrequest/', request)\n              .then(response =>{\n                console.log(response)\n                this.showBar(\"Submission accepted\", 'G')\n              }).catch(error => {\n                console.log(error)\n                this.showBar(\"Server error. Please try again later.\",'')\n              })\n          } else {\n            console.log('inputerr')\n            this.showBar('Input error. Please study the input format in detail.', '')\n          }\n        },async submitBut(){\n          console.log('submitted, button')\n          const request = {\n            type: 'MusicInButtoned',\n            arguments: this.script,\n          }\n          \n          await axios \n            .post('/api/typedrequest/', request)\n            .then(response =>{\n              console.log(response)\n              this.showBar(\"Submission accepted\", 'G')\n            }).catch(error => {\n              console.log(error)\n              this.showBar(\"Server error. Please try again later.\",'')\n            })\n          },\n          showBar(input, color) {\n            this.error = input\n            var x = document.getElementById(\"snackbar\" + color);\n            x.className = \"show\";\n            setTimeout(function(){ x.className = x.className.replace(\"show\", \"\"); }, 3000);\n          },\n    }\n       \n    }\n\n</script>\n\n\n<style>\n  h1{\n    font-family: Lato;\n    font-size: 38px;\n    font-weight: bold;\n    text-align: left;\n    margin-bottom: 3px;\n  }\n\n  hr {\n    border-top: 0.2px solid red;\n\n  }\n\n  h2{\n    font-family: Lato;\n    font-size: 36px;\n    font-weight: bold;\n    text-align: left;\n  }\n\n  p {\n    font-family: Noto Sans;\n    font-size: 20px;\n    font-weight: 500;\n    text-align: left;\n    max-width: 65ch;\n  }\n\n  ol {\n    font-family: Noto Sans;\n    font-size: 20px;\n    font-weight: 500;\n    text-align: left;\n    max-width: 65ch;\n  }\n\n  .General{\n    margin: auto;\n    max-width: 65ch;\n    justify-content: center;\n  }\n\n  .noteInput{\n    display: flex ;\n    background-color: #ffffff;\n    border-radius: 10px;\n    margin:10px;\n    padding: 30px;\n    justify-content: center;\n  }\n\n  /* .noteInput > div {\n    background-color: #f1f1f1;\n    margin: 3px;\n    padding: 20px;\n    font-size: 20px;\n    text-align: center;\n    border-radius: 10px;\n    flex-grow: 1;\n  } */\n\n  .flexbut{\n    font-family: Noto Sans;\n    background-color: #26374a;\n    color:white;\n    margin: 3px;\n    padding: 20px;\n    font-size: 20px;\n    text-align: center;\n    border-radius: 4px;\n    flex-grow: 1;\n    border: none;\n  }\n\n.flexbut:hover {\n  background-color: #1c578a;\n  outline:none;\n  }\n\n.button:active {\n  background-color: #16446c;\n  outline:none;\n}\n\n.inputdisp{\n  min-height: 40px;\n  border-style: solid;\n  padding: 10px;\n}\n\n.entryBox {\n  width: 205px; height: 39px\n}\n\n#ButtonForSubmit {\n  margin-top: 1em;\n}\n\n/* Snackbar */\n#snackbar {\n  border-radius: 4px;\n  visibility: hidden;\n  min-width: 250px;\n  margin-left: -125px;\n  background-color: #BB6464;\n  color: #fff;\n  text-align: center;\n  border-radius: 2px;\n  padding: 16px;\n  position: fixed;\n  z-index: 1;\n  left: 50%;\n  bottom: 30px;\n  font-size: 20px;\n}\n\n#snackbarG{\n  border-radius: 4px;\n  visibility: hidden;\n  min-width: 250px;\n  margin-left: -125px;\n  background-color: #88FF88;\n  color: #000000;\n  text-align: center;\n  border-radius: 2px;\n  padding: 16px;\n  position: fixed;\n  z-index: 1;\n  left: 50%;\n  bottom: 30px;\n  font-size: 20px;\n}\n\n#snackbar.show {\n  visibility: visible;\n  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;\n  animation: fadein 0.5s, fadeout 0.5s 2.5s;\n}\n\n#snackbarG.show {\n  visibility: visible;\n  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;\n  animation: fadein 0.5s, fadeout 0.5s 2.5s;\n}\n\n@-webkit-keyframes fadein {\n  from {bottom: 0; opacity: 0;} \n  to {bottom: 30px; opacity: 1;}\n}\n\n@keyframes fadein {\n  from {bottom: 0; opacity: 0;}\n  to {bottom: 30px; opacity: 1;}\n}\n\n@-webkit-keyframes fadeout {\n  from {bottom: 30px; opacity: 1;} \n  to {bottom: 0; opacity: 0;}\n}\n\n@keyframes fadeout {\n  from {bottom: 30px; opacity: 1;}\n  to {bottom: 0; opacity: 0;}\n}\n\ntextarea{\n  height : 15em;\n  width : 65ch;\n}\n\n  \n\n</style>\n\n\n"]},"metadata":{},"sourceType":"module"}