{"ast":null,"code":"import axios from 'axios';\nimport drop_down from '/src/components/drop_down.vue'; // import std_but from '/src/components/std_but.vue'\n\nexport default {\n  name: 'homePage',\n\n  data() {\n    return {\n      status: 'Loading',\n      selector: true\n    };\n  },\n\n  mounted() {\n    this.pollStatusWrapper();\n  },\n\n  methods: {\n    clicked() {\n      console.log('oi');\n      this.$router.push('/about');\n    },\n\n    async pollStatus() {\n      console.log('getting data');\n      var elem = document.getElementById(\"statusIndicator\");\n      await axios.get('/api/status').then(response => {\n        console.log(response);\n\n        if (this.status == 'PLAYING') {\n          elem.className = \"statusGreen\";\n        }\n\n        this.status = response.data;\n      }).catch(error => {\n        elem.className = \"statusRed\";\n        this.status = \"Failed to fetch status of robot\";\n        console.log(error);\n      });\n    },\n\n    pollStatusWrapper() {\n      setInterval(this.pollStatus, 4000);\n    },\n\n    async submitMode() {\n      console.log('submitted, typed');\n      var opmode;\n\n      if (this.selector == false) {\n        opmode = 'online';\n      }\n\n      if (this.selector == true) {\n        opmode = 'arduino';\n      }\n\n      const request = {\n        type: 'changeMode',\n        arguments: opmode\n      };\n      await axios.post('/api/toggle/', request).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n        setTimeout(this.reverseSelect, 500);\n      });\n    },\n\n    reverseSelect() {\n      this.selector = !this.selector;\n    }\n\n  },\n  components: {\n    drop_down\n  }\n};","map":{"version":3,"mappings":"AAgDE,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,+BAAtB,C,CACA;;AACA,eAAe;AACbC,MAAI,EAAE,UADO;;AAEbC,MAAI,GAAG;AACL,WAAM;AACJC,YAAM,EAAE,SADJ;AAEJC,cAAQ,EAAE;AAFN,KAAN;AAID,GAPY;;AAOVC,SAAM,GAAI;AACX,SAAKC,iBAAL;AACD,GATY;;AAUbC,SAAO,EAAE;AACPC,WAAM,GAAI;AACRC,aAAO,CAACC,GAAR,CAAY,IAAZ;AACA,WAAKC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACD,KAJM;;AAKP,UAAMC,UAAN,GAAkB;AAChBJ,aAAO,CAACC,GAAR,CAAY,cAAZ;AACA,UAAII,IAAG,GAAIC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAX;AACE,YAAMjB,KAAI,CACPkB,GADG,CACC,aADD,EAEHC,IAFG,CAEEC,QAAO,IAAI;AACfV,eAAO,CAACC,GAAR,CAAYS,QAAZ;;AAEA,YAAG,KAAKhB,MAAL,IAAe,SAAlB,EAA4B;AAC1BW,cAAI,CAACM,SAAL,GAAiB,aAAjB;AACF;;AAEA,aAAKjB,MAAL,GAAcgB,QAAQ,CAACjB,IAAvB;AAID,OAbG,EAaDmB,KAbC,CAaKC,KAAI,IAAK;AAChBR,YAAI,CAACM,SAAL,GAAiB,WAAjB;AACA,aAAKjB,MAAL,GAAc,iCAAd;AACAM,eAAO,CAACC,GAAR,CAAYY,KAAZ;AACD,OAjBG,CAAN;AAkBH,KA1BM;;AA2BPhB,qBAAiB,GAAG;AAClBiB,iBAAW,CAAC,KAAKV,UAAN,EAAkB,IAAlB,CAAX;AACD,KA7BM;;AA8BP,UAAMW,UAAN,GAAkB;AAChBf,aAAO,CAACC,GAAR,CAAY,kBAAZ;AACI,UAAIe,MAAJ;;AACA,UAAG,KAAKrB,QAAL,IAAiB,KAApB,EAA0B;AACxBqB,cAAK,GAAI,QAAT;AACF;;AACA,UAAG,KAAKrB,QAAL,IAAiB,IAApB,EAAyB;AACvBqB,cAAK,GAAI,SAAT;AACF;;AAEA,YAAMC,OAAM,GAAI;AACdC,YAAI,EAAE,YADQ;AAEdC,iBAAS,EAAEH;AAFG,OAAhB;AAKA,YAAM1B,KAAI,CACP8B,IADG,CACE,cADF,EACkBH,OADlB,EAEHR,IAFG,CAEEC,QAAO,IAAI;AACfV,eAAO,CAACC,GAAR,CAAYS,QAAZ;AAED,OALG,EAKDE,KALC,CAKKC,KAAI,IAAK;AAChBb,eAAO,CAACC,GAAR,CAAYY,KAAZ;AACAQ,kBAAU,CAAC,KAAKC,aAAN,EAAqB,GAArB,CAAV;AACD,OARG,CAAN;AASL,KAtDM;;AAuDPA,iBAAa,GAAG;AACd,WAAK3B,QAAL,GAAgB,CAAC,KAAKA,QAAtB;AACF;;AAzDO,GAVI;AAqEb4B,YAAU,EAAC;AACThC;AADS;AArEE,CAAf","names":["axios","drop_down","name","data","status","selector","mounted","pollStatusWrapper","methods","clicked","console","log","$router","push","pollStatus","elem","document","getElementById","get","then","response","className","catch","error","setInterval","submitMode","opmode","request","type","arguments","post","setTimeout","reverseSelect","components"],"sourceRoot":"","sources":["/Users/18chanp1/Library/CloudStorage/OneDrive-UBC/Active Use/UBC/20 Year 2/16 CPEN 291/04 Projects/P2_A_G20/main_server/vue-frontend/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"General\">\n    <h1>The Music Player</h1>\n\n    <p> Welcome to our music player. We have poured in\n      our hearts and our souls into this music player, \n      we hope you will enjoy the wonderful tunes and \n      the educational musical experiences this robot.\n    </p>\n\n    <h2>Robot status</h2>\n    <div id = statusIndicator class=\"statusYellow\">\n      {{this.status}}\n    </div>\n    <!-- <std_but type = \"button\" @pressed-button = \"clicked($event)\" class=\"flexbut\" text = \"cunt\"/> -->\n\n    <h2>Robot Mode</h2>\n    <p>\n      Use the toggle to select the mode of operation for the robot. \n    </p>\n\n\n    <div class = \"switchNLabels\">\n      \n      <div>Web Control</div>\n      <div>\n        <label class=\"switch\">\n        <input @click = \"submitMode()\" v-model = \"selector\" type=\"checkbox\">\n        <span class=\"slider\"></span>\n        </label>\n      </div>\n      <div>Device control</div>\n\n\n    </div>\n    \n\n\n    <h2>Music selector</h2>\n    <p>Select from your choice of music here</p>\n    <div class = dd>\n    <drop_down>Tetis</drop_down>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import drop_down from '/src/components/drop_down.vue'\n  // import std_but from '/src/components/std_but.vue'\n  export default {\n    name: 'homePage',\n    data() { \n      return{\n        status: 'Loading',\n        selector: true,\n      }\n    }, mounted (){\n      this.pollStatusWrapper()\n    },\n    methods: {\n      clicked (){\n        console.log('oi')\n        this.$router.push('/about');\n      },\n      async pollStatus(){\n        console.log('getting data') \n        var elem = document.getElementById(\"statusIndicator\")    \n          await axios \n            .get('/api/status')\n            .then(response =>{\n              console.log(response)\n\n              if(this.status == 'PLAYING'){\n                elem.className = \"statusGreen\"\n              }\n              \n              this.status = response.data\n\n              \n              \n            }).catch(error => {\n              elem.className = \"statusRed\"\n              this.status = \"Failed to fetch status of robot\"\n              console.log(error)\n            })\n      },\n      pollStatusWrapper() {\n        setInterval(this.pollStatus, 4000)\n      },\n      async submitMode(){\n        console.log('submitted, typed')\n            var opmode\n            if(this.selector == false){\n              opmode = 'online'\n            }\n            if(this.selector == true){\n              opmode = 'arduino'\n            }\n\n            const request = {\n              type: 'changeMode',\n              arguments: opmode,\n            }\n            \n            await axios \n              .post('/api/toggle/', request)\n              .then(response =>{\n                console.log(response)\n                \n              }).catch(error => {\n                console.log(error)\n                setTimeout(this.reverseSelect, 500)\n              })\n      },\n      reverseSelect() {\n        this.selector = !this.selector\n      }\n    },\n    components:{\n      drop_down,\n    }\n  }\n</script>\n\n\n<style>\n h1{\n    font-family: Lato-Semibold;\n    font-size: 38px;\n    text-align: left;\n    border-bottom: 1px solid #af3c43;\n    border-bottom-color: rgb(175, 60, 67);\n    border-bottom-style: solid;\n    border-bottom-width: 1px;\n    margin-bottom: .2em;\n    margin-top: 1em;\n    padding-bottom: .2em;\n  }\n   h2{\n    font-family: Lato-SemiBold;\n    font-size: 34px;\n    text-align: left;\n    margin-bottom: 11.5px;\n    margin-top: 38px;\n  }\n  p {\n    font-family: Noto Sans;\n    font-size: 20px;\n    font-weight: 500;\n    text-align: left;\n    max-width: 65ch;\n  }\n  ol {\n    font-family: Noto Sans;\n    font-size: 20px;\n    font-weight: 500;\n    text-align: left;\n    max-width: 65ch;\n  }\n  .General{\n    margin: auto;\n    max-width: 55ch;\n    text-align: left;\n    justify-content: left;\n    font-family: Noto Sans;\n    font-size: 20px;\n    font-weight: 500;\n    text-align: left;\n  }\n  \n  th {\n    min-width: 65vw;\n    }\n  \n  @media only screen and (min-width: 768px) {\n    th {\n    min-width: 20em;\n    }\n  }\n  \n  .flexbut{\n    font-family: Noto Sans;\n    background-color: #26374a;\n    color:white;\n    margin: 3px;\n    padding: 20px;\n    font-size: 20px;\n    text-align: center;\n    border-radius: 4px;\n    border: none;\n  }\n\n  .statusGreen{\n    background-color: rgb(0,112,60);\n    color:white;\n    border-color: grey;\n  }\n\n  .statusRed{\n    background-color: rgb(227,24,55);\n    color:white;\n    border-color: grey;\n  }\n\n  .statusYellow{\n    background-color: rgb(255,210,0);\n    color:black;\n    border-color: black;\n    border-style: solid;\n  }\n\n  #statusIndicator{\n    min-height: 50px;\n    text-align: center;\n    line-height: 100px; \n    font-weight: bold;\n    font-size: 25px;\n    border-radius: 4px;\n    border-style: solid;\n  }\n\n  .dd{\n    margin-bottom: 5em;\n  }\n\n   /* The switch - the box around the slider */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 34px;\n}\n\n/* Hide default HTML checkbox */\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n/* The slider */\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 26px;\n  width: 26px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: #2196F3;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(26px);\n}\n\n/* Rounded sliders */\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n} \n\n\n\n</style>"]},"metadata":{},"sourceType":"module"}