"use strict";(self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[]).push([[35],{323:function(t,e,o){o.r(e),o.d(e,{default:function(){return A}});var s=o(3396),n=o(9242),i=o(7139);const r={class:"General"},l=(0,s._)("h1",null,"Music Input",-1),a=(0,s._)("h2",null,"Option 1: Text Input",-1),u=(0,s._)("p",null," To input your song, please prepare the following information: ",-1),c=(0,s._)("ol",null,[(0,s._)("li",null,"The pitch of each note (e.g. C)"),(0,s._)("li",null,"The length of each note (e.g. 1 relative unit)")],-1),d=(0,s._)("p",null," Type in chronological order, the pitch of each note, followed by the relative length of each note. Do not include spaces. ",-1),p=(0,s._)("p",null," For example, if you wish to play the note C for 1 RU, followed by the note B for 2 RU, you would input the following: ",-1),h=(0,s._)("p",null," C1B2 ",-1),g=(0,s._)("br",null,null,-1),m=(0,s._)("input",{type:"submit",value:"Submit",class:"flexbut",id:"ButtonForSubmit"},null,-1),w=(0,s._)("h2",null,"Option 2: Button Input",-1),b=(0,s._)("p",null," Push the buttons to input the corresponding note. The duration defaults to 1 RU. ",-1),f=(0,s._)("p",null," Your Input: ",-1),y={class:"inputdisp"},v={class:"noteInput"},_={class:"submitButtons"},k=(0,s._)("h2",null,"Option 3: Load saved music",-1),B=(0,s._)("p",null," Type in your song ID in the box below and press load to load your song. You can the press submit to submit the song to be played. ",-1),x=(0,s._)("br",null,null,-1),I=(0,s._)("p",null,"Loaded song: ",-1),P={class:"inputdisp"},$={id:"snackbar"},S={id:"snackbarG"};function T(t,e,o,T,D,F){const W=(0,s.up)("std_but");return(0,s.wg)(),(0,s.iD)("div",r,[l,a,u,c,d,p,h,(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>F.submitForm&&F.submitForm(...t)),["prevent"]))},[(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>D.typedscript=t)},"Input your music here.",512),[[n.nr,D.typedscript]]),g,(0,s.Wm)(W,{type:"button",onPressedButton:e[1]||(e[1]=t=>F.saveTyped()),text:"Save",class:"flexbut"}),m],32),w,b,f,(0,s._)("p",y,(0,i.zw)(this.script),1),(0,s._)("form",{onSubmit:e[14]||(e[14]=(0,n.iM)(((...t)=>F.submitBut&&F.submitBut(...t)),["prevent"]))},[(0,s._)("div",v,[(0,s.Wm)(W,{type:"button",onPressedButton:e[3]||(e[3]=t=>F.clicked(t)),class:"flexbut",text:"C"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[4]||(e[4]=t=>F.clicked(t)),class:"flexbut",text:"D"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[5]||(e[5]=t=>F.clicked(t)),class:"flexbut",text:"E"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[6]||(e[6]=t=>F.clicked(t)),class:"flexbut",text:"F"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[7]||(e[7]=t=>F.clicked(t)),class:"flexbut",text:"G"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[8]||(e[8]=t=>F.clicked(t)),class:"flexbut",text:"A"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[9]||(e[9]=t=>F.clicked(t)),class:"flexbut",text:"B"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[10]||(e[10]=t=>F.clicked(t)),class:"flexbut",text:"R"})]),(0,s._)("div",_,[(0,s.Wm)(W,{type:"button",onPressedButton:e[11]||(e[11]=t=>F.save()),text:"Save",class:"flexbut2"}),(0,s.Wm)(W,{type:"button",onPressedButton:e[12]||(e[12]=t=>F.reset()),text:"Reset",class:"flexbut2"}),(0,s.Wm)(W,{onPressedButton:e[13]||(e[13]=e=>t.submit()),text:"Submit",class:"flexbut2"})])],32),k,B,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[15]||(e[15]=t=>D.songID=t),class:"idinput"},"Input your music here.",512),[[n.nr,D.songID]]),x,(0,s.Wm)(W,{type:"button",onPressedButton:e[16]||(e[16]=t=>F.load()),text:"Load",class:"flexbut2"}),I,(0,s._)("p",P,(0,i.zw)(this.loaded),1),(0,s.Wm)(W,{type:"button",onPressedButton:e[17]||(e[17]=t=>F.submitLoad()),text:"Submit",class:"flexbut2",id:"ButtonForSubmit"}),(0,s._)("div",$,(0,i.zw)(D.error),1),(0,s._)("div",S,(0,i.zw)(D.error),1)])}var D=o(7779),F=o(6265),W=o.n(F),z={name:"musicInput",data(){return{count:0,script:"",typedscript:"",error:"",songID:"",loaded:""}},components:{std_but:D.Z},methods:{clicked(t){this.count++,this.script=this.script.concat(t)},reset(){this.script=""},async submitForm(){var t=/^(([A-GR][0-9]+)*)$/;if(console.log(t.test(this.typedscript)),!t.test(this.typedscript))return console.log("inputerr"),void this.showBar("Input error. Please study the input format in detail.","");var e=this.isFree();if(console.log("checking server is free?"),console.log(e),0==this.isFree())return console.log("robot playing"),void this.showBar("The robot is currently playing music. Please try again later","");if(2!=this.isFree()){console.log("submitted, typed");const t={type:"MusicInTyped",arguments:this.typedscript};await W().post("/api/input/",t).then((t=>{console.log(t),window.$cookies.set("sum",parseInt(window.$cookies.get("sum"))+1);for(var e=/^[A-GR]$/,o=0;o<this.typedscript.length;o++){var s=this.typedscript.charAt(o);e.test(s)&&window.$cookies.set(s,parseInt(window.$cookies.get(s))+1)}this.showBar("Submission accepted. You will now be redirected home","G"),setTimeout(this.redirectHome,2500)})).catch((t=>{console.log(t.status),this.showBar("Server error. Please try again later.","")}))}else this.showBar("Server error. Please try again later.","")},async submitBut(){console.log("submitted, button");const t={type:"MusicInButtoned",arguments:this.script};var e=this.isFree();if(console.log("checking server is free?"),console.log(e),0==this.isFree())return console.log("robot playing"),void this.showBar("The robot is currently playing music. Please try again later","");2!=this.isFree()?await W().post("/api/input/",t).then((t=>{console.log(t);for(var e=/^[A-GR]$/,o=0;o<this.script.length;o++){var s=this.script.charAt(o);e.test(s)&&window.$cookies.set(s,parseInt(window.$cookies.get(s))+1)}window.$cookies.set("sum",parseInt(window.$cookies.get("sum"))+1),this.showBar("Submission accepted. You will now be redirected home","G"),setTimeout(this.redirectHome,2500)})).catch((t=>{console.log(t),this.showBar("Server error. Please try again later.","")})):this.showBar("Server error. Please try again later.","")},showBar(t,e){this.error=t;var o=document.getElementById("snackbar"+e);o.className="show",setTimeout((function(){o.className=o.className.replace("show","")}),3e3)},redirectHome(){this.$router.push("/")},isFree(){console.log("getting data"),W().get("/api/status").then((t=>(console.log("The data"),console.log(t.data),"FREE"==t.data?(console.log("returning true"),1):0))).catch((t=>(console.log(t.status),console.log("Returning false because server err"),2)))},save(){var t=window.$cookies.get("songsz");window.$cookies.set("S"+t,this.script),window.$cookies.set("songsz",t),alert("The song ID is: "+t+". \n You will need this ID to load the song, so keep it in a safe place"),t++},saveTyped(){var t=/^(([A-GR][0-9]+)*)$/;if(!t.test(this.typedscript))return console.log("inputerr"),void this.showBar("Input error. Please study the input format in detail.","");var e=window.$cookies.get("songsz");window.$cookies.set("S"+e,this.typedscript),window.$cookies.set("songsz",e),alert("The song ID is: "+e+". \n You will need this ID to load the song, so keep it in a safe place"),e++},load(){var t=/^[0-9]+$/,e=window.$cookies.get("songsz");if(!t.test(this.songID)||parseInt(this.songID)>=e)return this.showBar("Song ID is invalid. Please try again.",""),void console.log("bad load");this.loaded=window.$cookies.get("S"+this.songID)},submitLoad(){console.log("sload"),this.typedscript=this.loaded,this.submitForm()}}},G=o(89);const R=(0,G.Z)(z,[["render",T]]);var A=R},3474:function(t,e,o){o.r(e),o.d(e,{default:function(){return m}});var s=o(3396),n=o(7139);const i={class:"General"},r=(0,s._)("h1",null,"Statistics",-1),l={class:"General"},a=(0,s._)("th",null,"Your favorite note",-1),u=(0,s._)("th",null,"Lifetime notes played",-1),c=(0,s._)("th",null,"Total song plays",-1);function d(t,e,o,d,p,h){return(0,s.wg)(),(0,s.iD)("div",i,[r,(0,s._)("table",l,[(0,s._)("tr",null,[a,(0,s._)("td",null,(0,n.zw)(this.favnote),1)]),(0,s._)("tr",null,[u,(0,s._)("td",null,(0,n.zw)(this.lifnote),1)]),(0,s._)("tr",null,[c,(0,s._)("td",null,(0,n.zw)(this.songs),1)])])])}var p={name:"statsPage",data(){return{favnote:"No data",lifnote:"No data",songs:"No data"}},mounted(){this.cookiedata()},methods:{cookiedata(){this.songs=window.$cookies.get("sum");for(var t=window.$cookies.get("A"),e="A",o=0,s=0;s<26;s++){var n=String.fromCharCode(65+s),i=window.$cookies.get(n);o+=parseInt(i),i>t&&(t=i,e=n)}this.favnote=e,this.lifnote=o}}},h=o(89);const g=(0,h.Z)(p,[["render",d]]);var m=g}}]);
//# sourceMappingURL=musicInput.833fa630.js.map