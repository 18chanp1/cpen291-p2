(function(){"use strict";var e={1272:function(e,t,n){var o=n(9242),r=n(3396);const s=(0,r.Uk)(" | "),i=(0,r.Uk)("Home"),a=(0,r.Uk)(" | "),u=(0,r.Uk)("About"),c=(0,r.Uk)(" | "),l=(0,r.Uk)("Upload music"),d=(0,r.Uk)(" | "),h=(0,r.Uk)("Statistics"),f=(0,r.Uk)(" | ");function p(e,t){const n=(0,r.up)("router-link"),o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("nav",null,[s,(0,r.Wm)(n,{to:"/"},{default:(0,r.w5)((()=>[i])),_:1}),a,(0,r.Wm)(n,{to:"/about"},{default:(0,r.w5)((()=>[u])),_:1}),c,(0,r.Wm)(n,{to:"/musicinput"},{default:(0,r.w5)((()=>[l])),_:1}),d,(0,r.Wm)(n,{to:"/statsPage"},{default:(0,r.w5)((()=>[h])),_:1}),f]),(0,r.Wm)(o)],64)}var m=n(89);const g={},v=(0,m.Z)(g,[["render",p]]);var b=v,w=n(678),y=n(7139);const k={class:"General"},_=(0,r._)("h1",null,"The Music Player",-1),S=(0,r._)("p",null," Welcome to our music player. We have poured in our hearts and our souls into this music player, we hope you will enjoy the wonderful tunes and the educational musical experiences this robot. ",-1),x=(0,r._)("h2",null,"Robot status",-1),C={id:"statusIndicator",class:"statusYellow"},O=(0,r._)("h2",null,"Robot Mode",-1),P=(0,r._)("p",null," Use the toggle to select the mode of operation for the robot. ",-1),T={class:"switchNLabels"},U=(0,r._)("div",null,"Device Control",-1),E={class:"switch"},N=(0,r._)("span",{class:"slider"},null,-1),j=(0,r._)("div",null,"Web control",-1),B=(0,r._)("h2",null,"Music selector",-1),I=(0,r._)("p",null,"Select from your choice of music here",-1),M={class:"dd"},W=(0,r.Uk)("Tetis");function A(e,t,n,s,i,a){const u=(0,r.up)("drop_down");return(0,r.wg)(),(0,r.iD)("div",k,[_,S,x,(0,r._)("div",C,(0,y.zw)(this.status),1),O,P,(0,r._)("div",T,[U,(0,r._)("div",null,[(0,r._)("label",E,[(0,r.wy)((0,r._)("input",{onClick:t[0]||(t[0]=e=>a.submitMode()),"onUpdate:modelValue":t[1]||(t[1]=e=>i.selector=e),type:"checkbox"},null,512),[[o.e8,i.selector]]),N])]),j]),B,I,(0,r._)("div",M,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[W])),_:1})])])}var G=n(6265),$=n.n(G);const F=(0,r._)("option",{class:"Generaldd",value:"Mario"},"Mario Theme Song",-1),D=(0,r._)("option",{class:"Generaldd",value:"RickRoll"},"Never gonna give you up",-1),L=(0,r._)("option",{class:"Generaldd",value:"GoukurakuJoudo"},"Zheng's Select: Goukuraku Joudo",-1),R=[F,D,L],Z=(0,r.Uk)("       "),H={id:"snackbar"},Y={id:"snackbarG"};function z(e,t,n,s,i,a){const u=(0,r.up)("std_but");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("select",{class:"Generaldd",id:"ddin","onUpdate:modelValue":t[0]||(t[0]=e=>i.box_in=e)},R,512),[[o.bM,i.box_in]]),Z,(0,r.Wm)(u,{type:"button",onPressedButton:t[1]||(t[1]=e=>a.clicked()),text:"Submit",class:"flexbut2"}),(0,r._)("div",H,(0,y.zw)(i.error),1),(0,r._)("div",Y,(0,y.zw)(i.error),1)],64)}var K=n(7779),q={data(){return{box_in:"",error:""}},components:{std_but:K.Z},methods:{clicked(){""!=this.box_in&&this.submitBut()},async submitBut(){console.log("submitted, button");const e={type:"MusicSelection",arguments:this.box_in};console.log("submitting box items"),0!=this.isFree()?2!=this.isFree?await $().post("/api/selection/",e).then((e=>{console.log(e),this.showBar("Submission accepted. You will now be redirected home","G"),setTimeout(this.redirectHome,2500),window.$cookies.isKey(this.box_in)?window.$cookies.set(this.box_in,parseInt(window.$cookies.get(this.box_in))+1):window.$cookies.set(this.box_in,"1"),window.$cookies.isKey("sum")?window.$cookies.set("sum",parseInt(window.$cookies.get("sum"))+1):window.$cookies.set("sum","1")})).catch((e=>{console.log(e),this.showBar("Server error. Please try again later.","")})):this.showBar("Cannot reach device, please try again later",""):this.showBar("Device is currently playing music, please try again later","")},isFree(){console.log("getting data"),$().get("/api/status").then((e=>(console.log("The data"),console.log(e.data),"FREE"==e.data?(console.log("returning true"),1):0))).catch((e=>(console.log(e),console.log("Returning false because server err"),2)))},showBar(e,t){this.error=e;var n=document.getElementById("snackbar"+t);n.className="show",setTimeout((function(){n.className=n.className.replace("show","")}),3e3)}}};const J=(0,m.Z)(q,[["render",z]]);var V=J,Q={name:"homePage",data(){return{status:"Loading",selector:!0}},mounted(){this.pollStatusWrapper()},methods:{clicked(){console.log("oi"),this.$router.push("/about")},async pollStatus(){console.log("getting data");var e=document.getElementById("statusIndicator");await $().get("/api/status").then((t=>{console.log(t),"PLAYING"==this.status&&(e.className="statusGreen"),this.status=t.data})).catch((t=>{e.className="statusRed",this.status="Failed to fetch status of robot",console.log(t)}))},pollStatusWrapper(){setInterval(this.pollStatus,4e3)},async submitMode(){var e;console.log("submitted, typed"),0==this.selector&&(e="online"),1==this.selector&&(e="arduino");const t={type:"changeMode",arguments:e};await $().post("/api/toggle/",t).then((e=>{console.log(e)})).catch((e=>{console.log(e),setTimeout(this.reverseSelect,500)}))},reverseSelect(){this.selector=!this.selector}},components:{drop_down:V}};const X=(0,m.Z)(Q,[["render",A]]);var ee=X;const te=[{path:"/",name:"home",component:ee},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,7381))},{path:"/musicInput",name:"musicInput",component:()=>n.e(35).then(n.bind(n,1339))},{path:"/statsPage",name:"statsPage",component:()=>n.e(35).then(n.bind(n,6261))}],ne=(0,w.p7)({history:(0,w.PO)("/"),routes:te});var oe=ne,re=n(5269),se=n.n(re);(0,o.ri)(b).use(oe,se()).mount("#app")},7779:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(3396),r=n(7139);function s(e,t,n,s,i,a){return(0,o.wg)(),(0,o.iD)("button",{onClick:t[0]||(t[0]=e=>a.clicked())},(0,r.zw)(n.text),1)}var i={name:"std_but",props:{text:String},data(){return{count:0}},methods:{clicked(){this.count++,this.$emit("pressed-button",this.text.concat(1))}}},a=n(89);const u=(0,a.Z)(i,[["render",s]]);var c=u}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var i=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],s=e[l][2];for(var a=!0,u=0;u<o.length;u++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(a=!1,s<i&&(i=s));if(a){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"static/js/"+{35:"musicInput",443:"about"}[e]+"."+{35:"b15f9fda",443:"d42991ec"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"static/css/musicInput.0e39ccf8.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-frontend:";n.l=function(o,r,s,i){if(e[o])e[o].push(r);else{var a,u;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(u=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=o),e[o]=[r];var h=function(t,n){a.onerror=a.onload=null,clearTimeout(f);var r=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),u&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var s=function(s){if(r.onerror=r.onload=null,"load"===s.type)n();else{var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=a,r.parentNode.removeChild(r),o(u)}};return r.onerror=r.onload=s,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],s=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){r=i[o],s=r.getAttribute("data-href");if(s===e||s===t)return r}},o=function(o){return new Promise((function(r,s){var i=n.miniCssF(o),a=n.p+i;if(t(i,a))return r();e(o,a,r,s)}))},r={143:0};n.f.miniCss=function(e,t){var n={35:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var s=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=s);var i=n.p+n.u(t),a=new Error,u=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var s=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,r[1](a)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,i=o[0],a=o[1],u=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var l=u(n)}for(t&&t(o);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},o=self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1272)}));o=n.O(o)})();
//# sourceMappingURL=app.9150655e.js.map